![[Снимок экрана 2023-06-28 в 19.30.25.png]]






![[Снимок экрана 2023-06-28 в 19.29.20.png]]

Если тут не установить ScopedPoxyMode, то при создании бина AnyService, до того как первая сессия была создана, у нас упадет приложуха, т.к бин AnyDependency еще не существует, но его пытаются внедрить в AnyService, который Singleton. 



##  **Что будет, если ScopedPoxyMode + Prototype  scope?**  Иногда на собесах спрашивают
Когда ставим ScopedPoxyMode, то заинджекченный объект после каждого вызова его методов по сути будет через прокси доставать из контекста каждый раз бин. И для prorotype scope он будет каждый раз новый бин создавать. А если бы не было ScopedPoxyMode, то объект бы заинджектился один раз, а потом напрямую с ним работали бы, и соответственно новый бин не создавался бы при каждом обращении к нему по ссылке. 
![[Снимок экрана 2023-07-09 в 2.01.54.png]]